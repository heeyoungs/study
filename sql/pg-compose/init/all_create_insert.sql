DROP TABLE IF EXISTS LECTURE;
DROP TABLE IF EXISTS ADVISE;
DROP TABLE IF EXISTS REGISTER;
DROP TABLE IF EXISTS PROFESSOR;
DROP TABLE IF EXISTS STUDENT;
DROP TABLE IF EXISTS COURSE;

CREATE TABLE COURSE (
    CCODE    	VARCHAR(4) NOT NULL PRIMARY KEY,
    CNAME    	VARCHAR(10),
    CTIME    	INTEGER,
    CROOM	VARCHAR(8)
);

CREATE TABLE STUDENT (
    SCODE	 VARCHAR(4) NOT NULL PRIMARY KEY,
    SNAME	 VARCHAR(10),
    SDEPT	 VARCHAR(12),
    SPHONE	 VARCHAR(8)
);

CREATE TABLE PROFESSOR (
    PCODE		    VARCHAR(4) NOT NULL PRIMARY KEY,
    PNAME	    VARCHAR(10),
    PDEPT	    VARCHAR(12),
    PPHONE	 VARCHAR(8)
);

CREATE TABLE REGISTER (
    RSCODE	VARCHAR(4) NOT NULL,
    RCCODE	VARCHAR(4) NOT NULL,
    PRIMARY KEY (RSCODE, RCCODE),
    CONSTRAINT rscode_fk FOREIGN KEY(RSCODE) REFERENCES STUDENT(SCODE),
    CONSTRAINT rccode_fk FOREIGN KEY(RCCODE) REFERENCES COURSE(CCODE)
);

CREATE TABLE ADVISE (
    APCODE    VARCHAR(4) NOT NULL,
    ASCODE    VARCHAR(4) NOT NULL,
    PRIMARY KEY (APCODE, ASCODE),
    CONSTRAINT apcode_fk FOREIGN KEY(APCODE) REFERENCES PROFESSOR(PCODE),
    CONSTRAINT ascode_fk FOREIGN KEY(ASCODE) REFERENCES STUDENT(SCODE)
);

CREATE TABLE LECTURE (
    LPCODE	    VARCHAR(4) NOT NULL,
    LCCODE	    VARCHAR(4) NOT NULL,
    PRIMARY KEY (LPCODE, LCCODE),
    CONSTRAINT lpcode_fk FOREIGN KEY(LPCODE) REFERENCES PROFESSOR(PCODE),
    CONSTRAINT lccode_fk FOREIGN KEY(LCCODE) REFERENCES COURSE(CCODE)
);

INSERT INTO COURSE VALUES ('C001', 'TCP', 3, 'R001');
INSERT INTO COURSE VALUES ('C002', 'HTML', 3, 'R002');
INSERT INTO COURSE VALUES ('C003', 'OS', 3, 'R003');
INSERT INTO COURSE VALUES ('C004', 'Database', 2, 'R004');
INSERT INTO COURSE VALUES ('C005', 'Java', 2, 'R005');
INSERT INTO COURSE VALUES ('C006', 'C', 2, 'R006');

INSERT INTO STUDENT VALUES ('S001','이정혁','전파공학과', '123-4567');
INSERT INTO STUDENT VALUES ('S002','오창세','전파공학과', '234-5678');
INSERT INTO STUDENT VALUES ('S003','마리아','컴퓨터공학과', '345-6789');
INSERT INTO STUDENT VALUES ('S004','김정은','컴퓨터공학과', '456-7890');
INSERT INTO STUDENT VALUES ('S005','김다인','정보통신공학과', '567-8901');
INSERT INTO STUDENT VALUES ('S006','박선영','정보통신공학과', '678-9012');

INSERT INTO PROFESSOR VALUES ('P001','안기홍','컴퓨터공학과', '821-1101');
INSERT INTO PROFESSOR VALUES ('P002','김정호','컴퓨터공학과', '821-1102');
INSERT INTO PROFESSOR VALUES ('P003','이창석','전파공학과', '821-1201');
INSERT INTO PROFESSOR VALUES ('P004','박현주','전파공학과', '821-1202');
INSERT INTO PROFESSOR VALUES ('P005','김응규','정보통신공학과', '821-1301');
INSERT INTO PROFESSOR VALUES ('P006','김은기','정보통신공학과', '821-1302');

INSERT INTO REGISTER VALUES ('S005','C001');
INSERT INTO REGISTER VALUES ('S005','C003');
INSERT INTO REGISTER VALUES ('S005','C004');
INSERT INTO REGISTER VALUES ('S006','C001');
INSERT INTO REGISTER VALUES ('S006','C003');
INSERT INTO REGISTER VALUES ('S006','C004');

INSERT INTO ADVISE VALUES ('P001','S001');
INSERT INTO ADVISE VALUES ('P002','S002');
INSERT INTO ADVISE VALUES ('P003','S003');
INSERT INTO ADVISE VALUES ('P004','S004');
INSERT INTO ADVISE VALUES ('P004','S005');
INSERT INTO ADVISE VALUES ('P006','S006');

INSERT INTO LECTURE VALUES ('P002','C002');
INSERT INTO LECTURE VALUES ('P002','C006');
INSERT INTO LECTURE VALUES ('P003','C005');
INSERT INTO LECTURE VALUES ('P004','C003');
INSERT INTO LECTURE VALUES ('P004','C004');
INSERT INTO LECTURE VALUES ('P006','C001');


